<!DOCTYPE html>

<head>
    <link rel="stylesheet" href="stylesheet.css">
    <title>PULSAROS REMOTE LOGIN - SYS_TEMP_USR_L3NvbHZlZC5odG1s</title>
</head>

<p> 
    <div id="stext">
    PULSAR OS [Version 10.19036612 beta 4]<br>
    COPYRIGHT 2019 <a id="gh-link" href="https://github.com/shaunakg">@SHAUNAKG </a><br>
    WARNING: OS CORRUPTION DETECTED RUNNING SAFE MODE FAILSAFE<br> 
    FOR HELP TYPE 'HELP'
    </div>
    <pre><div id="output"></div></pre><br>
    <span id="currentcommandtext">root@pulsarconsole:~$ <input type="text" class="console-input" id="consoleinput01" onchange="process();" autofocus></span>

    <span id="shutdown_log" class="typewriter" style="display:none;"><span class="no-select">PULSAR OS SHUTDOWN LOG<br><br>Shutdown time: [ERROR_CLOCK_NOT_INITIATED]<br>Reason: User command<br><br>Logging out user: SYS_TEMP_USR_</span>L3NvbHZlZC5odG1s<span class="no-select"><br><br>Halting all non-essential programs<br>Halting all non-essential services<br>Halting ~/system/bin/config/hlt.sh<br>Unmounting ~/mnt/drive/c/records/2019/<br><br>Halting drivers<br>Halting coreutils<br>Halting sysutils<br><br>Running final drive scan...<br>[15% done] : secure<br>[35% done] : secure<br>[55% done] : secure<br>[85% done] : found corrupted sectors 0x1342b3 to 0x3234cf<br>[100% done] : finished<br><br>Shutdown complete at [ERROR_CLOCK_NOT_INITIATED];</span><br><br></span>
</p>

<script>

const helptext =  "<br><br>[Warning: File '/system/local/static/help_guide.txt' checksum failed to verify]<br><br>PULSAROS HELP GUIDE<br>revision 3.04 open<br><br>Commands (simple):<br>HELP - opens this dialog<br>SSH - Remote connection<br><span class=\"glitch-text\">ECHO - Display texxxxxxxx~~~</span><br><br>[Unable to read]<br>";
const lstext = "bin  boot  dev  etc  home  init  lib  lib64  media  mnt  opt  proc  root  run  sbin  snap  srv  sys  tmp  usr  var";

const console_input = document.getElementById("consoleinput01");
const out = document.getElementById("output");
const commandtext = document.getElementById("currentcommandtext");
const startelement = document.getElementById("stext");
const shutelement = document.getElementById("shutdown_log");

var i = 0;

function output_generator(result, show_input_value = true) {
    if (show_input_value) {
        return "<br>" + commandtext.innerText + console_input.value + "<br>" + result + "<br>";
    } else {

        var val_replace = "";
        for (var i = 0; i < console_input.value.length; i++) {
            val_replace += "*"
        }

        return "<br>" + commandtext.innerText + val_replace + "<br>" + result + "<br>";
    }
}

function process() {

    if (console_input.value.toLowerCase().includes("<") || console_input.value.toLowerCase().includes(">")) {
        out.innerHTML += output_generator("Invalid characters", false);
        console_input.value = "";
    } else if (console_input.value.toLowerCase().includes("help")) {
        out.innerHTML += output_generator(helptext);
        console_input.value = "";
    } else if (console_input.value.toLowerCase().includes("ssh")) {
        out.innerHTML += output_generator("Unable to establish connection.");
        console_input.value = "";
    } else if (console_input.value.toLowerCase().includes("what is this")) {
        out.innerHTML += output_generator("<s>I often wonder myself</s> Incorrect command.");
        console_input.value = "";
    } else if (console_input.value.toLowerCase().includes("cls") || console_input.value.toLowerCase().includes("clear")) {
        out.innerHTML = "";
        console_input.value = "";
    } else if (console_input.value.toLowerCase().includes("echo ")) {
        out.innerHTML += output_generator(console_input.value.replace("echo ",""));
        console_input.value = "";
    } else if (console_input.value.toLowerCase().includes("sudo") || console_input.value.toLowerCase().includes("su ")) {
        out.innerHTML += output_generator("Unable to comply - you are not root");
        console_input.value = "";
    } else if (console_input.value.toLowerCase().includes("exit") || console_input.value.toLowerCase().includes("halt") || console_input.value.toLowerCase().includes("shutdown")) {
        out.innerHTML = "";
        shutelement.style.display = "inline-block";
        commandtext.style.display = "none";
        startelement.style.display = "none";
        document.body.style.opacity = "0";
        document.body.style.backgroundColor = "white";
        document.title = "CONNECTION TERMINATED NO RESPONSE (CODE 1102)";
    } else {
        out.innerHTML += output_generator("Incorrect command.");
        console_input.value = "";
    }
}

</script>